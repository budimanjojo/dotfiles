#!/usr/bin/fish

echo -e "\033[0;32m>>>>> Begin Setting Up Fish Completions <<<<<\033[0m"

# This script will run whenever there's an update in .config/aqua.yaml
# .config/aqua.yaml hash: {{ include "dot_config/aqua.yaml.tmpl" | sha256sum }}
## Setup completions
if not test -d $__fish_config_dir/completions
  mkdir -p $__fish_config_dir/completions
end

if type -q chezmoi
  echo "setting up chezmoi completion"
  chezmoi completion fish --output=$__fish_config_dir/completions/chezmoi.fish
end

if type -q flux
  echo "setting up flux completion"
  flux completion fish > $__fish_config_dir/completions/flux.fish
end

if type -q kustomize
  echo "setting up kustomize completion"
  kustomize completion fish > $__fish_config_dir/completions/kustomize.fish
end

if type -q kubectl
  echo "setting up kubectl completion"
  kubectl completion fish > $__fish_config_dir/completions/kubectl.fish
end

echo -e "\033[0;32m>>>>> Finish Setting Fish Completions <<<<<\033[0m"
